{% extends base %}

{% block title %}Upload{% endblock %}

{% block content %}

    <h1 align="left">Create</h1><br><br>

    {% if createAdmin %}

    <form action="/Create_Admin" method="post" class="admin">
        <label for="firstname">Firstname:</label><br>
        <input type="text" name="firstname"><br><br>
        <label for="lastname">Lastname:</label><br>
        <input type="text" name="lastname"><br><br>
        <label for="username">Username:</label><br>
        <input type="text" name="username"><br><br>
        <label for="password">password:</label><br>
        <input type="password" name="password"><br><br>
        <label for="password">email:</label><br>
        <input type="text" name="email"><br><br>
        <input type="submit" value="Create">
    </form>

    {% elif createArtifact %}

    <form class="artifactUpload" id="artifactUploadForm" action="/Create_Artifact" method="post">
        <label for="subject">Choose Subject:</label>
        <select id="subject" name="subject">
            <option value="archeology">Archeology</option>
            <option value="biology">Biology</option>
            <option value="geology">Geology</option>
            <option value="paleontology">Paleontology</option>
        </select><br><br>
        <label for="name">Artifact Name:</label><br>
        <input type="text" name="artifactName" required><br><br>
        <label for="description">Description:</label><br>
        <textarea id="description" name="description" rows="12" cols="75" required>
        </textarea><br><br>
        <label for="year">optional Year(s):</label><br>
        <input type="text" name="year"><br><br>
        <label for="year">File(s):</label><br>
        <input type="file" name="file0"><br>
    </form><br><br>

    <button onclick="addFile()">Add File</button><br>
    <button type="submit" form="artifactUploadForm" value="Submit">Create</button>

    <script>
        
        fileCount = 0;

        function addFile() {
            if (fileCount < 9){
                const form = document.getElementById('artifactUploadForm');
                const input = document.createElement('input');
                
                input.setAttribute('type', 'file');
                input.setAttribute('name', 'file'+fileCount);
                fileCount++;

                form.appendChild(input);
            }
        };

    </script>

    {% elif createExibit %}

        {% if error %}
            <p style="color:red;">ERROR: No artifacts for selected subject. Please add artifacts before making a exibit</p>
        {% endif %}

        {% if artifacts %}
            <!-- DISPLAY LIST OF ARTIFACTS FOR ADDING TO COLLECTION -->
            <form action="/Create_Exibit" method="post" class="admin">
                <input type="submit" value="Add to Exibit">
            </form>
        {% else %}

        <form action="/Create_Exibit" method="post" class="admin">
            <label for="subject">Choose Subject:</label>
                <select id="subject" name="subject">
                <option value="archeology">Archeology</option>
                <option value="biology">Biology</option>
                <option value="geology">Geology</option>
                <option value="paleontology">Paleontology</option>
            </select><br><br>
            <label for="exibitName">Exibit Name:</label><br>
            <input type="text" name="exibitName" required><br><br>
            <label for="description">Description:</label><br>
            <textarea id="description" name="description" rows="12" cols="75" required>
            </textarea><br><br>
            <label for="year">Cover Image:</label><br>
            <input type="file" name="coverImg" required><br><br>
            <input type="submit" value="Create and Select Artifacts">
        </form>

        {% endif %}

    {% elif createTimeline %}
        
        {% if error %}
            <p style="color:red;">ERROR: No artifacts for selected subject. Please add artifacts before making a timeline</p>
        {% endif %}

        {% if artifacts %}
            <!-- DISPLAY LIST OF ARTIFACTS FOR ADDING TO COLLECTION -->
            <form action="/Create_Exibit" method="post" class="admin">
                <input type="submit" value="Add to Timeline">
            </form>
        {% else %}

        <form action="/Create_Timeline" method="post" class="admin">
            <label for="subject">Choose Subject:</label>
                <select id="subject" name="subject">
                <option value="archeology">Archeology</option>
                <option value="biology">Biology</option>
                <option value="geology">Geology</option>
                <option value="paleontology">Paleontology</option>
            </select><br><br>
            <label for="exibitName">Timeline Name:</label><br>
            <input type="text" name="exibitName" required><br><br>
            <label for="description">Description:</label><br>
            <textarea id="description" name="description" rows="12" cols="75" required>
            </textarea><br><br>
            <label for="timeStart">Starting Year:</label><br>
            <input type="number" name="timeStart" required><br><br>
            <label for="timeEnd">Ending Year:</label><br>
            <input type="number" name="timeEnd" required><br><br>
            <label for="year">Cover Image:</label><br>
            <input type="file" name="coverImg" required><br><br>
            <input type="submit" value="Create and Select Artifacts">
        </form>

        {% endif %}

    {% else %}

    <form action="/Create_Artifact">
        <button class="upload">Artifact</button>
    </form>

    <form action="/Create_Exibit">
        <button class="upload">Exibit</button>
    </form>

    <form action="/Create_Timeline">
        <button class="upload">Timeline</button>
    </form>

    <form action="/Create_Admin">
        <button class="upload">Account</button>
    </form>

    {% endif %}

{% endblock %}